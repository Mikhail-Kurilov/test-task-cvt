{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"D:/test/vs_studio/dr-pill/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/test/vs_studio/dr-pill/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/test/vs_studio/dr-pill/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/test/vs_studio/dr-pill/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import history from'../../history';import'./Result.css';var Result=/*#__PURE__*/function(_React$Component){_inherits(Result,_React$Component);var _super=_createSuper(Result);function Result(props){var _props$location,_props$location$state;var _this;_classCallCheck(this,Result);_this=_super.call(this,props);_this.score=(_props$location=props.location)===null||_props$location===void 0?void 0:(_props$location$state=_props$location.state)===null||_props$location$state===void 0?void 0:_props$location$state.score;_this.results=localStorage.getItem('results');if(_this.results){_this.results=JSON.parse(_this.results);}else{// set default first start values\n_this.results=[{nickname:'Misha',score:128},{nickname:'Nadya',score:64},{nickname:'Alexey',score:32},{nickname:'Vladimir',score:16},{nickname:'Navalny',score:12},{nickname:'Cesar',score:10},{nickname:'August',score:8},{nickname:'Napoleon',score:6},{nickname:'Ivan Grozny',score:4},{nickname:'Vasya Pupkin',score:2}];_this.updateLocalStorage();}for(var i=0;i<_this.results.length;i++){if(_this.results[i].score<=_this.score){_this.results.splice(i,0,{nickname:\"noname\",score:_this.score});_this.results.pop();_this.updateLocalStorage();break;}}return _this;}_createClass(Result,[{key:\"updateLocalStorage\",value:function updateLocalStorage(){localStorage.setItem('results',JSON.stringify(this.results));}},{key:\"componentDidMount\",value:function componentDidMount(){document.getElementById('audio').src='/audio/game-over.mp3';}},{key:\"updateResults\",value:function updateResults(event,key){if(event.target.innerHTML&&key>=0){this.results[key].nickname=event.target.innerHTML;this.updateLocalStorage();}}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"Result\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text\",children:\"Result\"}),/*#__PURE__*/_jsx(\"br\",{}),this.results.map(function(result,key){return/*#__PURE__*/_jsxs(\"div\",{className:\"result-score\",children:[result.nickname===\"noname\"?/*#__PURE__*/_jsx(\"div\",{contenteditable:\"true\",onKeyUp:function onKeyUp(event){return _this2.updateResults(event,key);},children:\"Enter Your Name\"}):result.nickname,\"\\xA0score:\",result.score]},key);}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"glow-on-hover\",onClick:function onClick(){return history.push('/game');},children:\"go to Game\"})}),/*#__PURE__*/_jsx(\"audio\",{id:\"audio\",autoPlay:true,loop:true})]});}}]);return Result;}(React.Component);export default Result;","map":{"version":3,"sources":["D:/test/vs_studio/dr-pill/src/components/Result/Result.js"],"names":["React","history","Result","props","score","location","state","results","localStorage","getItem","JSON","parse","nickname","updateLocalStorage","i","length","splice","pop","setItem","stringify","document","getElementById","src","event","key","target","innerHTML","map","result","updateResults","push","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport history from '../../history';\r\n\r\nimport './Result.css';\r\n\r\nclass Result extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.score = props.location?.state?.score;\r\n\r\n        this.results = localStorage.getItem('results');\r\n        if (this.results) {\r\n            this.results = JSON.parse(this.results);\r\n        } else { // set default first start values\r\n            this.results = [\r\n                { nickname: 'Misha', score: 128 },\r\n                { nickname: 'Nadya', score: 64 },\r\n                { nickname: 'Alexey', score: 32 },\r\n                { nickname: 'Vladimir', score: 16 },\r\n                { nickname: 'Navalny', score: 12 },\r\n                { nickname: 'Cesar', score: 10 },\r\n                { nickname: 'August', score: 8 },\r\n                { nickname: 'Napoleon', score: 6 },\r\n                { nickname: 'Ivan Grozny', score: 4 },\r\n                { nickname: 'Vasya Pupkin', score: 2 },\r\n            ];\r\n            this.updateLocalStorage();\r\n        }\r\n\r\n        for (let i = 0; i < this.results.length; i++) {\r\n            if (this.results[i].score <= this.score) {\r\n                this.results.splice(i, 0, { nickname: \"noname\", score: this.score });\r\n                this.results.pop();\r\n                this.updateLocalStorage();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    updateLocalStorage() {\r\n        localStorage.setItem('results', JSON.stringify(this.results));\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.getElementById('audio').src = '/audio/game-over.mp3';\r\n    }\r\n\r\n    updateResults(event, key) {\r\n        if (event.target.innerHTML && key >= 0) {\r\n            this.results[key].nickname = event.target.innerHTML;\r\n            this.updateLocalStorage();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"Result\">\r\n                <h2 className='text'>Result</h2>\r\n                <br />\r\n                {this.results.map((result, key) => {\r\n                    return (<div  className=\"result-score\" key={key}>\r\n                        {\r\n                            result.nickname === \"noname\" ? \r\n                                <div contenteditable=\"true\" onKeyUp={(event) => this.updateResults(event, key)}>Enter Your Name</div> : \r\n                                result.nickname}\r\n                        &nbsp;score:{result.score}\r\n                        </div>)\r\n                })}\r\n                <br />\r\n                <form>\r\n                    <button className=\"glow-on-hover\" onClick={() => history.push('/game')}>go to Game</button>\r\n                </form>\r\n                <audio id='audio' autoPlay loop></audio>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Result;\r\n"]},"metadata":{},"sourceType":"module"}